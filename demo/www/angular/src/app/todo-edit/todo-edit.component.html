<div class="max-w-lg mx-auto bg-white shadow-md rounded-lg p-6">
  <h2 class="text-2xl font-bold mb-4">
    {{ isNew ? "New Todo" : "Edit Todo" }}
  </h2>

  <div class="mb-4">
    <label class="block text-gray-700">Title</label>
    <input
      [(ngModel)]="todo.title"
      class="w-full mt-2 p-2 border border-gray-300 rounded-md"
    />
  </div>

  <div class="mb-4">
    <label class="block text-gray-700">Description</label>

    <div class="flex border-b mb-2">
      <button
        (click)="currentTab = 'edit'"
        [class.font-bold]="currentTab === 'edit'"
        class="p-2 border-b-2"
      >
        Edit
      </button>
      <button
        (click)="currentTab = 'preview'"
        [class.font-bold]="currentTab === 'preview'"
        class="p-2 border-b-2"
      >
        Preview
      </button>
    </div>

    <div *ngIf="currentTab === 'edit'">
      <textarea
        [(ngModel)]="todo.description"
        class="w-full mt-2 p-2 border border-gray-300 rounded-md"
        rows="5"
      ></textarea>
    </div>
    <div
      *ngIf="currentTab === 'preview'"
      class="p-2 border border-gray-300 rounded-md"
    >
      <div [innerHTML]="renderMarkdown(todo.description)" class="prose"></div>
    </div>
  </div>

  <div class="flex justify-between">
    <button
      (click)="saveTodo()"
      class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"
    >
      {{ isNew ? "Create" : "Update" }}
    </button>
    <a routerLink="/" class="text-gray-500 hover:text-gray-700">Cancel</a>
  </div>
</div>
